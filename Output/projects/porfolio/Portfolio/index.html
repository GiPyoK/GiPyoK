<!DOCTYPE html><html><head><meta charset="UTF-8"/><meta name="og:site_name" content="Gi Pyo John Kim's Portfolio"/><link rel="canonical" href="https://gipyojohnkim.com/projects/porfolio/Portfolio"/><meta name="twitter:url" content="https://gipyojohnkim.com/projects/porfolio/Portfolio"/><meta name="og:url" content="https://gipyojohnkim.com/projects/porfolio/Portfolio"/><title>Creating Portfolio with Publish by John Sundell | Gi Pyo John Kim's Portfolio</title><meta name="twitter:title" content="Creating Portfolio with Publish by John Sundell | Gi Pyo John Kim's Portfolio"/><meta name="og:title" content="Creating Portfolio with Publish by John Sundell | Gi Pyo John Kim's Portfolio"/><meta name="description" content="Getting started with Publish by John Sundell to create my own portfolio website with Swift"/><meta name="twitter:description" content="Getting started with Publish by John Sundell to create my own portfolio website with Swift"/><meta name="og:description" content="Getting started with Publish by John Sundell to create my own portfolio website with Swift"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Gi Pyo John Kim's Portfolio"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Gi Pyo John Kim's Portfolio</a><nav><ul><li><a href="/about">About</a></li><li><a class="selected" href="/projects">Projects</a></li><li><a href="/blog">Blog</a></li></ul></nav></div></header><div class="wrapper"><article class="content"><ul class="tag-list"><li><a href="/tags/publish">Publish</a></li><li><a href="/tags/johnsundell">JohnSundell</a></li><li><a href="/tags/swift">Swift</a></li><li><a href="/tags/website">Website</a></li></ul><h1>Creating Portfolio with Publish by John Sundell</h1><p>I first built my portfolio website with basic HTML and CSS. It was my first attempt at creating a website and it looked ugly. While I was browsing through various libraries to enhance the look and maintainability of my portfolio, I stumbled upon a library called <a href="https://github.com/JohnSundell/Publish">Publish</a> by John Sundell. Publish is a static site generator built for Swift developers. I thought this would be a good tool to make my portfolio website and be a fun challenge to learn about it.</p><h3>Getting started</h3><pre><code>$ git clone https://github.<span class="property">com</span>/<span class="type">JohnSundell</span>/<span class="type">Publish</span>.<span class="property">git</span>
$ cd <span class="type">Publish</span>
$ make
$ mkdir <span class="type">GiPyoJohnKim</span>
$ cd <span class="type">GiPyoJohnKim</span>
$ publish new
</code></pre><p>After running these lines of code in the terminal, I was ready to create my website.</p><h3>Basic setup</h3><p>Inside <code>main.swift</code> file, I added my own section id's.</p><pre><code><span class="keyword">enum</span> SectionID: <span class="type">String</span>, <span class="type">WebsiteSectionID</span> {
    <span class="keyword">case</span> about
    <span class="keyword">case</span> projects
    <span class="keyword">case</span> blog
}
</code></pre><p>The section id's will play the role of a navigation bar.</p><p>Next is the theme. There was the Foundation theme already available, but I wanted the option to modify the theme if needed. So, I duplicated <code>styles.css</code> file under <code>Publish/Resources/FoundationTheme/</code> into my Resources folder and created a new <code>HTMLFactory</code>.</p><pre><code><span class="keyword">struct</span> MyHtmlFactory&lt;Site: <span class="type">Website</span>&gt;: <span class="type">HTMLFactory</span> {
    <span class="keyword">func</span> makeIndexHTML(for index: <span class="type">Index</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(<span class="string">"Hello World!"</span>)
    }
    
    <span class="keyword">func</span> makeSectionHTML(for section: <span class="type">Section</span>&lt;<span class="type">Site</span>&gt;, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(<span class="string">""</span>)
    }
    
    <span class="keyword">func</span> makeItemHTML(for item: <span class="type">Item</span>&lt;<span class="type">Site</span>&gt;, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(<span class="string">""</span>)
    }
    
    <span class="keyword">func</span> makePageHTML(for page: <span class="type">Page</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="keyword">try</span> <span class="call">makeIndexHTML</span>(for: context.<span class="property">index</span>, context: context)
    }
    
    <span class="keyword">func</span> makeTagListHTML(for page: <span class="type">TagListPage</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>? {
        <span class="keyword">nil</span>
    }
    
    <span class="keyword">func</span> makeTagDetailsHTML(for page: <span class="type">TagDetailsPage</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>? {
        <span class="keyword">nil</span>
    }
}
</code></pre><p>Then, I grabbed <code>wrapper</code>, <code>itemList</code>, and <code>tagList</code> from Foundation theme and will make modifications later.</p><pre><code><span class="keyword">private extension</span> <span class="type">Node</span> <span class="keyword">where</span> <span class="type">Context</span> == <span class="type">HTML</span>.<span class="type">BodyContext</span> {
    <span class="keyword">static func</span> wrapper(<span class="keyword">_</span> nodes: <span class="type">Node</span>...) -&gt; <span class="type">Node</span> {
        .<span class="call">div</span>(.<span class="call">class</span>(<span class="string">"wrapper"</span>), .<span class="dotAccess">group</span>(nodes))
    }
    
    <span class="keyword">static func</span> itemList&lt;T: <span class="type">Website</span>&gt;(for items: [<span class="type">Item</span>&lt;<span class="type">T</span>&gt;], on site: <span class="type">T</span>) -&gt; <span class="type">Node</span> {
        <span class="keyword">return</span> .<span class="call">ul</span>(
            .<span class="call">class</span>(<span class="string">"item-list"</span>),
            .<span class="call">forEach</span>(items) { item <span class="keyword">in</span>
                .<span class="call">li</span>(.<span class="call">article</span>(
                    .<span class="call">h1</span>(.<span class="call">a</span>(
                        .<span class="call">href</span>(item.<span class="property">path</span>),
                        .<span class="call">text</span>(item.<span class="property">title</span>)
                    )),
                    .<span class="call">tagList</span>(for: item, on: site),
                    .<span class="call">p</span>(.<span class="call">text</span>(item.<span class="property">description</span>))
                ))
            }
        )
    }

    <span class="keyword">static func</span> tagList&lt;T: <span class="type">Website</span>&gt;(for item: <span class="type">Item</span>&lt;<span class="type">T</span>&gt;, on site: <span class="type">T</span>) -&gt; <span class="type">Node</span> {
        <span class="keyword">return</span> .<span class="call">ul</span>(.<span class="call">class</span>(<span class="string">"tag-list"</span>), .<span class="dotAccess">forEach</span>(item.<span class="property">tags</span>) { tag <span class="keyword">in</span>
            .<span class="call">li</span>(.<span class="call">a</span>(
                .<span class="call">href</span>(site.<span class="call">path</span>(for: tag)),
                .<span class="call">text</span>(tag.<span class="property">string</span>)
            ))
        })
    }
}
</code></pre><p>With my own <code>styles.css</code> file and <code>HTMLFactory</code> defined, I can now initialized my own theme.</p><pre><code>  <span class="keyword">extension</span> <span class="type">Theme</span> {
    <span class="keyword">static var</span> myTheme: <span class="type">Theme</span> {
        <span class="type">Theme</span>(
            htmlFactory: <span class="type">MyHtmlFactory</span>(),
            resourcePaths: [<span class="string">"Resources/Theme/styles.css"</span>]
        )
    }
}
</code></pre><p>Lastly, I can apply my theme and publish my website using this line of code:</p><pre><code><span class="keyword">try</span> <span class="type">GiPyoJohnKim</span>().<span class="call">publish</span>(withTheme: .<span class="dotAccess">myTheme</span>)
</code></pre><h3>Formatting the page</h3><p>Right now, the main page only shows "Hello World!" because there is nothing but <code>HTML("Hello World!")</code> inside <code>makeIndexHTML()</code>function. Whatever that goes inside the <code>makeIndexHTML()</code> function will show in the main home page. I formatted the page so that it will show my dummy blog posts and projects. (This is just a test to see if I can populate the site with given markdown files. I will change the looks of the main page later.)</p><pre><code><span class="keyword">func</span> makeIndexHTML(for index: <span class="type">Index</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(
            .<span class="call">head</span>(for: index, on: context.<span class="property">site</span>),
            
            .<span class="call">body</span>(
                .<span class="call">myHeader</span>(for: context),
                
                .<span class="call">wrapper</span>(
                    .<span class="call">ul</span>(
                        .<span class="call">class</span>(<span class="string">"item-list"</span>),
                        .<span class="call">forEach</span>(context.<span class="call">allItems</span>(sortedBy: \.<span class="property">date</span>, order: .<span class="dotAccess">descending</span>)) { item <span class="keyword">in</span>
                            .<span class="call">li</span>(
                                .<span class="call">article</span>(
                                    .<span class="call">h1</span>(
                                        .<span class="call">a</span>(
                                            .<span class="call">href</span>(item.<span class="property">path</span>),
                                            .<span class="call">text</span>(item.<span class="property">title</span>)
                                        ) <span class="comment">//a</span>
                                    ), <span class="comment">//h1</span>
                                    .<span class="call">tagList</span>(for: item, on: context.<span class="property">site</span>),
                                    .<span class="call">p</span>(.<span class="call">text</span>(item.<span class="property">description</span>))
                                ) <span class="comment">//article</span>
                            ) <span class="comment">//li</span>
                        }) <span class="comment">//ul</span>
                ) <span class="comment">//wrapper</span>
            ) <span class="comment">//body</span>
        ) <span class="comment">//html</span>
    }
</code></pre><p>The<code>.head</code> tag will display the name of the site, and the <code>.body</code> tag will loop through all the items in the content folder and display them in a list.</p><p>This is my folder structure:</p><img src="/images/Untitled.png" alt="1" width="500"/><p>This is how the dummy markdown file is formatted:</p><img src="images/Untitled 1.png" alt="images/Untitled 1.png"/><p>This is how the actual site looks like:</p><img src="images/Untitled%202.png" alt="images/Untitled%202.png"/><p>When I was playing around with the Foundation theme, I remembered that there were section names below the site name. I found <code>.header</code> tag already defined in <code>Theme+Foundation.swift</code> file and replaced my <code>.myHeader</code> with it.</p><pre><code>.<span class="call">body</span>(
		.<span class="call">header</span>(for: context, selectedSection: (<span class="type">GiPyoJohnKim</span>.<span class="type">SectionID</span>.<span class="property">about</span> <span class="keyword">as</span>! <span class="type">Site</span>.<span class="type">SectionID</span>)),
		<span class="comment">// ...</span>
)
</code></pre><p>Although the main page shows a list of blog posts and project posts, I will change the main page to be the about page. So I highlighted the about section, and this is how the main page:</p><img src="images/Untitled%203.png" alt="images/Untitled%203.png"/><p>Right now, a blank page shows up when the title of a post is clicked. By implementing <code>makeItemHTML()</code> function, the blank page will be replaced with the actual content of the post.</p><pre><code><span class="keyword">func</span> makeItemHTML(for item: <span class="type">Item</span>&lt;<span class="type">Site</span>&gt;, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(
            .<span class="call">head</span>(for: item, on: context.<span class="property">site</span>),
            
            .<span class="call">body</span>(
                .<span class="call">header</span>(for: context, selectedSection: item.<span class="property">sectionID</span>),
                
                .<span class="call">wrapper</span>(
                    .<span class="call">article</span>(
												.<span class="call">class</span>(<span class="string">"content"</span>),
                        .<span class="call">tagList</span>(for: item, on: context.<span class="property">site</span>),
                        .<span class="call">contentBody</span>(item.<span class="property">body</span>)
                    ) <span class="comment">//article</span>
                ) <span class="comment">//wrapper</span>
            ) <span class="comment">//body</span>
        ) <span class="comment">//html</span>
    }
</code></pre><img src="images/Untitled%204.png" alt="images/Untitled%204.png"/></article></div></body></html>